<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arithmetic Memory - Math Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { darkMode: 'class' }</script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-4">Arithmetic Memory</h1>
            <p class="text-gray-600 dark:text-gray-300 mb-4">Match equations with their correct answers</p>
            <a href="../../index.html" class="text-blue-600 dark:text-blue-400 hover:underline">← Back to Portfolio</a>
        </div>
        
        <div class="max-w-2xl mx-auto">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <div class="flex justify-between items-center mb-6">
                    <div class="text-lg font-semibold">Moves: <span id="moves">0</span></div>
                    <div class="text-lg font-semibold">Matches: <span id="matches">0</span>/8</div>
                    <button id="new-game" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">New Game</button>
                </div>
                
                <div id="game-board" class="grid grid-cols-4 gap-4 mb-6">
                    <!-- Cards will be generated by JavaScript -->
                </div>
                
                <div id="message" class="mt-4 text-center font-semibold"></div>
                
                <div class="mt-6 text-sm text-gray-600 dark:text-gray-400">
                    <p class="font-semibold">How to play:</p>
                    <ol class="list-decimal pl-5 space-y-1">
                        <li>Click on cards to flip them</li>
                        <li>Match equations with their correct answers</li>
                        <li>Match all pairs with the fewest moves</li>
                    </ol>
                </div>
                
                <div class="mt-4 flex justify-center gap-4">
                    <button id="easy" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Easy</button>
                    <button id="medium" class="bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700">Medium</button>
                    <button id="hard" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">Hard</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const gameBoard = document.getElementById('game-board');
        const movesElement = document.getElementById('moves');
        const matchesElement = document.getElementById('matches');
        const messageDiv = document.getElementById('message');
        const newGameButton = document.getElementById('new-game');
        const easyButton = document.getElementById('easy');
        const mediumButton = document.getElementById('medium');
        const hardButton = document.getElementById('hard');
        
        let cards = [];
        let flippedCards = [];
        let moves = 0;
        let matches = 0;
        let difficulty = 'easy';
        
        function generateEquations(difficulty) {
            const equations = [];
            const answers = [];
            
            for (let i = 0; i < 8; i++) {
                let a, b, operation, result, equation;
                
                switch (difficulty) {
                    case 'easy':
                        a = Math.floor(Math.random() * 10) + 1;
                        b = Math.floor(Math.random() * 10) + 1;
                        operation = Math.random() < 0.5 ? '+' : '-';
                        result = operation === '+' ? a + b : Math.max(a, b) - Math.min(a, b);
                        equation = `${Math.max(a, b)} ${operation} ${Math.min(a, b)}`;
                        break;
                    case 'medium':
                        a = Math.floor(Math.random() * 12) + 1;
                        b = Math.floor(Math.random() * 12) + 1;
                        operation = Math.random() < 0.7 ? (Math.random() < 0.5 ? '+' : '-') : '×';
                        result = operation === '+' ? a + b : (operation === '-' ? Math.max(a, b) - Math.min(a, b) : a * b);
                        equation = `${operation === '-' ? Math.max(a, b) : a} ${operation} ${operation === '-' ? Math.min(a, b) : b}`;
                        break;
                    case 'hard':
                        a = Math.floor(Math.random() * 20) + 1;
                        b = Math.floor(Math.random() * 10) + 1;
                        operation = ['×', '÷', '+', '-'][Math.floor(Math.random() * 4)];
                        if (operation === '÷') {
                            result = b;
                            equation = `${a * b} ${operation} ${a}`;
                        } else if (operation === '×') {
                            result = a * b;
                            equation = `${a} ${operation} ${b}`;
                        } else if (operation === '+') {
                            result = a + b;
                            equation = `${a} ${operation} ${b}`;
                        } else {
                            result = Math.max(a, b) - Math.min(a, b);
                            equation = `${Math.max(a, b)} ${operation} ${Math.min(a, b)}`;
                        }
                        break;
                }
                
                equations.push(equation);
                answers.push(result.toString());
            }
            
            return { equations, answers };
        }
        
        function createCards() {
            gameBoard.innerHTML = '';
            
            const { equations, answers } = generateEquations(difficulty);
            
            // Create pairs of cards (equation + answer)
            cards = [];
            for (let i = 0; i < 8; i++) {
                cards.push({
                    content: equations[i],
                    type: 'equation',
                    matched: false,
                    id: i
                });
                
                cards.push({
                    content: answers[i],
                    type: 'answer',
                    matched: false,
                    id: i
                });
            }
            
            // Shuffle cards
            cards.sort(() => Math.random() - 0.5);
            
            // Create card elements
            cards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card bg-blue-500 text-white h-24 rounded-lg flex items-center justify-center text-xl font-bold cursor-pointer transform transition-transform hover:scale-105';
                cardElement.dataset.index = index;
                
                // Create front and back of card
                const front = document.createElement('div');
                front.className = 'front absolute w-full h-full flex items-center justify-center bg-blue-500 rounded-lg backface-hidden';
                front.textContent = '?';
                
                const back = document.createElement('div');
                back.className = 'back absolute w-full h-full flex items-center justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg backface-hidden rotate-y-180';
                back.textContent = card.content;
                
                cardElement.appendChild(front);
                cardElement.appendChild(back);
                
                cardElement.addEventListener('click', () => flipCard(index));
                gameBoard.appendChild(cardElement);
            });
            
            // Add CSS for 3D flip effect
            const style = document.createElement('style');
            style.textContent = `
                .card {
                    position: relative;
                    transform-style: preserve-3d;
                    transition: transform 0.6s;
                }
                .flipped {
                    transform: rotateY(180deg);
                }
                .backface-hidden {
                    backface-visibility: hidden;
                }
                .rotate-y-180 {
                    transform: rotateY(180deg);
                }
            `;
            document.head.appendChild(style);
        }
        
        function flipCard(index) {
            const card = cards[index];
            
            // Prevent flipping if card is already flipped or matched
            if (flippedCards.includes(index) || card.matched || flippedCards.length >= 2) {
                return;
            }
            
            // Flip the card visually
            const cardElement = gameBoard.children[index];
            cardElement.classList.add('flipped');
            
            // Add to flipped cards
            flippedCards.push(index);
            
            // Check for match if two cards are flipped
            if (flippedCards.length === 2) {
                moves++;
                movesElement.textContent = moves;
                
                const card1 = cards[flippedCards[0]];
                const card2 = cards[flippedCards[1]];
                
                if (card1.id === card2.id && card1.type !== card2.type) {
                    // Match found
                    card1.matched = true;
                    card2.matched = true;
                    matches++;
                    matchesElement.textContent = matches;
                    
                    // Visual indication of match
                    setTimeout(() => {
                        gameBoard.children[flippedCards[0]].classList.add('bg-green-500');
                        gameBoard.children[flippedCards[1]].classList.add('bg-green-500');
                        flippedCards = [];
                        
                        // Check for game completion
                        if (matches === 8) {
                            messageDiv.textContent = `Congratulations! You completed the game in ${moves} moves!`;
                            messageDiv.className = 'mt-4 text-center font-semibold text-green-600';
                        }
                    }, 500);
                } else {
                    // No match
                    setTimeout(() => {
                        gameBoard.children[flippedCards[0]].classList.remove('flipped');
                        gameBoard.children[flippedCards[1]].classList.remove('flipped');
                        flippedCards = [];
                    }, 1000);
                }
            }
        }
        
        function initGame() {
            flippedCards = [];
            moves = 0;
            matches = 0;
            movesElement.textContent = '0';
            matchesElement.textContent = '0';
            messageDiv.textContent = '';
            createCards();
        }
        
        // Event listeners
        newGameButton.addEventListener('click', initGame);
        easyButton.addEventListener('click', () => {
            difficulty = 'easy';
            initGame();
        });
        mediumButton.addEventListener('click', () => {
            difficulty = 'medium';
            initGame();
        });
        hardButton.addEventListener('click', () => {
            difficulty = 'hard';
            initGame();
        });
        
        // Initialize the game
        initGame();
    </script>
</body>
</html>