<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Clone - Creative Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { darkMode: 'class' }</script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-4">Wordle Clone</h1>
            <p class="text-gray-600 dark:text-gray-300 mb-4">Guess the 5-letter word in 6 tries</p>
            <a href="../../index.html" class="text-blue-600 dark:text-blue-400 hover:underline">← Back to Portfolio</a>
        </div>
        
        <div class="max-w-md mx-auto">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <div id="game-board" class="grid grid-cols-5 gap-2 mb-6">
                    <!-- Game board will be generated by JavaScript -->
                </div>
                
                <div id="keyboard" class="grid grid-cols-10 gap-1 mb-4">
                    <!-- Keyboard will be generated by JavaScript -->
                </div>
                
                <div id="message" class="text-center font-semibold mb-4"></div>
                
                <div class="flex justify-center">
                    <button id="new-game" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">New Game</button>
                </div>
                
                <div class="mt-6 text-sm text-gray-600 dark:text-gray-400">
                    <p class="font-semibold">How to play:</p>
                    <ol class="list-decimal pl-5 space-y-1">
                        <li>Guess the WORDLE in 6 tries.</li>
                        <li>Each guess must be a valid 5-letter word.</li>
                        <li>After each guess, the color of the tiles will change to show how close your guess was to the word.</li>
                        <li>Green: The letter is in the word and in the correct spot.</li>
                        <li>Yellow: The letter is in the word but in the wrong spot.</li>
                        <li>Gray: The letter is not in the word.</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Word list - common 5-letter words
        const wordList = [
            "APPLE", "BEACH", "CHAIR", "DANCE", "EAGLE", "FLAME", "GRAPE", "HOUSE", "IMAGE", "JUICE",
            "KNIFE", "LEMON", "MOUSE", "NIGHT", "OCEAN", "PIANO", "QUEEN", "RIVER", "SNAKE", "TABLE",
            "UNCLE", "VOICE", "WATER", "XENON", "YACHT", "ZEBRA", "BREAD", "CLOUD", "DREAM", "EARTH",
            "FRUIT", "GHOST", "HEART", "IVORY", "JELLY", "KOALA", "LIGHT", "MONEY", "NORTH", "OLIVE",
            "PEACH", "QUILT", "RADIO", "STORM", "TIGER", "UMBRA", "VIRUS", "WHALE", "XYLYL", "YOUNG"
        ];
        
        const gameBoard = document.getElementById('game-board');
        const keyboard = document.getElementById('keyboard');
        const messageElement = document.getElementById('message');
        const newGameButton = document.getElementById('new-game');
        
        let targetWord = '';
        let currentRow = 0;
        let currentTile = 0;
        let isGameOver = false;
        
        // Initialize the game
        function initGame() {
            // Clear the board
            gameBoard.innerHTML = '';
            keyboard.innerHTML = '';
            messageElement.textContent = '';
            
            // Reset game state
            currentRow = 0;
            currentTile = 0;
            isGameOver = false;
            
            // Choose a random word
            targetWord = wordList[Math.floor(Math.random() * wordList.length)];
            console.log("Target word:", targetWord); // For debugging
            
            // Create game board
            for (let row = 0; row < 6; row++) {
                for (let col = 0; col < 5; col++) {
                    const tile = document.createElement('div');
                    tile.className = 'h-14 border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center text-2xl font-bold';
                    tile.dataset.row = row;
                    tile.dataset.col = col;
                    gameBoard.appendChild(tile);
                }
            }
            
            // Create keyboard
            const keys = [
                'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P',
                'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L',
                'ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', '⌫'
            ];
            
            keys.forEach(key => {
                const keyButton = document.createElement('button');
                keyButton.textContent = key;
                keyButton.className = 'h-12 bg-gray-200 dark:bg-gray-700 rounded font-semibold hover:bg-gray-300 dark:hover:bg-gray-600';
                
                if (key === 'ENTER') {
                    keyButton.classList.add('col-span-2');
                } else if (key === '⌫') {
                    keyButton.classList.add('col-span-2');
                }
                
                keyButton.addEventListener('click', () => handleKeyPress(key));
                keyboard.appendChild(keyButton);
            });
        }
        
        // Handle key press
        function handleKeyPress(key) {
            if (isGameOver) return;
            
            if (key === 'ENTER') {
                checkRow();
            } else if (key === '⌫') {
                deleteLetter();
            } else if (/^[A-Z]$/.test(key) && currentTile < 5) {
                addLetter(key);
            }
        }
        
        // Add letter to the current tile
        function addLetter(letter) {
            if (currentTile < 5) {
                const tile = gameBoard.querySelector(`[data-row="${currentRow}"][data-col="${currentTile}"]`);
                tile.textContent = letter;
                tile.classList.add('border-gray-500', 'dark:border-gray-400');
                currentTile++;
            }
        }
        
        // Delete letter from the previous tile
        function deleteLetter() {
            if (currentTile > 0) {
                currentTile--;
                const tile = gameBoard.querySelector(`[data-row="${currentRow}"][data-col="${currentTile}"]`);
                tile.textContent = '';
                tile.classList.remove('border-gray-500', 'dark:border-gray-400');
            }
        }
        
        // Check the current row
        function checkRow() {
            if (currentTile < 5) {
                showMessage("Not enough letters");
                return;
            }
            
            // Get the guess
            let guess = '';
            for (let i = 0; i < 5; i++) {
                const tile = gameBoard.querySelector(`[data-row="${currentRow}"][data-col="${i}"]`);
                guess += tile.textContent;
            }
            
            // Check if the guess is a valid word
            if (!wordList.includes(guess)) {
                showMessage("Not in word list");
                return;
            }
            
            // Check the guess against the target word
            const letterCount = {};
            for (const letter of targetWord) {
                letterCount[letter] = (letterCount[letter] || 0) + 1;
            }
            
            // First pass: Mark correct positions
            for (let i = 0; i < 5; i++) {
                const tile = gameBoard.querySelector(`[data-row="${currentRow}"][data-col="${i}"]`);
                const letter = tile.textContent;
                const keyButton = getKeyButton(letter);
                
                if (letter === targetWord[i]) {
                    tile.classList.add('bg-green-500', 'text-white', 'border-green-500');
                    keyButton.classList.add('bg-green-500', 'text-white');
                    letterCount[letter]--;
                }
            }
            
            // Second pass: Mark present but wrong position
            for (let i = 0; i < 5; i++) {
                const tile = gameBoard.querySelector(`[data-row="${currentRow}"][data-col="${i}"]`);
                const letter = tile.textContent;
                const keyButton = getKeyButton(letter);
                
                if (letter === targetWord[i]) {
                    // Already marked as correct
                } else if (targetWord.includes(letter) && letterCount[letter] > 0) {
                    tile.classList.add('bg-yellow-500', 'text-white', 'border-yellow-500');
                    if (!keyButton.classList.contains('bg-green-500')) {
                        keyButton.classList.add('bg-yellow-500', 'text-white');
                    }
                    letterCount[letter]--;
                } else {
                    tile.classList.add('bg-gray-500', 'text-white', 'border-gray-500');
                    if (!keyButton.classList.contains('bg-green-500') && !keyButton.classList.contains('bg-yellow-500')) {
                        keyButton.classList.add('bg-gray-500', 'text-white');
                    }
                }
            }
            
            // Check if the guess is correct
            if (guess === targetWord) {
                showMessage("Congratulations! You won!");
                isGameOver = true;
                return;
            }
            
            // Move to the next row
            currentRow++;
            currentTile = 0;
            
            // Check if the game is over
            if (currentRow >= 6) {
                showMessage(`Game over! The word was ${targetWord}`);
                isGameOver = true;
            }
        }
        
        // Get keyboard button for a letter
        function getKeyButton(letter) {
            return Array.from(keyboard.children).find(button => button.textContent === letter);
        }
        
        // Show message
        function showMessage(text) {
            messageElement.textContent = text;
            setTimeout(() => {
                messageElement.textContent = '';
            }, 3000);
        }
        
        // Event listeners
        newGameButton.addEventListener('click', initGame);
        
        document.addEventListener('keydown', (e) => {
            if (isGameOver) return;
            
            const key = e.key.toUpperCase();
            if (key === 'ENTER') {
                checkRow();
            } else if (key === 'BACKSPACE') {
                deleteLetter();
            } else if (/^[A-Z]$/.test(key) && currentTile < 5) {
                addLetter(key);
            }
        });
        
        // Initialize the game
        initGame();
    </script>
</body>
</html>